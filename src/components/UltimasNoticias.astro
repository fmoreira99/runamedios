
---
import { getCollection } from 'astro:content';
const noticias = await getCollection('noticias');
const ultimas = noticias.slice(-4).reverse();
---

<section class="ultimas contenedor" id="ultimas">
  <h2 class="titulo-seccion">Últimas noticias</h2>
  <div class="grid-4">
    {ultimas.map((post) => (
      <a class="mini" href={`/noticias/${post.slug}`}>
        <img src={post.data.img} alt={post.data.title} loading="lazy" />
        <div class="info">
          <span class="tag">{post.data.date}</span>
          <p>{post.data.title}</p>
        </div>
      </a>
    ))}
  </div>
</section>

<style>
  .ultimas .mini { display:flex; gap:12px; align-items:center; background:#0f141a; border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:10px; color:#ccd0d4; text-decoration:none; }
  .ultimas .mini img { width:44px; height:44px; object-fit:cover; border-radius:6px; background:#0c0f12; }
  .ultimas .tag { display:inline-block; font-size:12px; font-weight:600; color:#0c0f12; background:#4cf2d6; border-radius:999px; padding:3px 10px; margin-bottom:6px; }
  .ultimas p { margin:0; font-size:13px; opacity:.9; }
</style>
