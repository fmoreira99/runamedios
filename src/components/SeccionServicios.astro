---
const servicios = [
  {
    numero: "01",
    titulo: "Noticias actuales",
    texto:
      "Creamos sistemas visuales consistentes y memorables. Texto de prueba largo para validar alturas, espaciados y lectura en 2‚Äì3 l√≠neas como en la maqueta original.",
    boton: "Ver noticias",
    link:"/noticias",
    img: "https://res.cloudinary.com/durxpegdm/image/upload/v1762730987/noticias/dark_themed_horizontal_banner_16_9_with_glowing_blue_green_qvbe0m.jpg",
  },
  {
    numero: "02",
    titulo: "Memes y humor diario",
    texto:
      "Experiencias n√≠tidas, r√°pidas y pensadas para SEO. Otro texto de prueba un poco m√°s extenso para comprobar c√≥mo fluye cuando el bloque queda a la derecha.",
    boton: "üîí Proximamente",
    img: "https://res.cloudinary.com/durxpegdm/image/upload/v1762730914/noticias/horizontal_image_16_9_with_neon_green_and_bnokkd.jpg",
  },
  
  
  {
    numero: "03",
    titulo: "Divulgaci√≥n educativa",
    texto:
      "Historia, misterios, curiosidades y datos reales.",
    boton: "üîí Proximamente",
    img: "https://res.cloudinary.com/durxpegdm/image/upload/v1762730966/noticias/horizontal_dark_themed_16_9_illustration_combining_education_and_o0c6fm.jpg",
  },
  {
    numero: "05",
    titulo: "Contenido gamer",
    texto:
      "An√°lisis de videojuegos, gameplay y desaf√≠os divertidos.",
    boton: "üîí Proximamente",
    img: "https://res.cloudinary.com/durxpegdm/image/upload/v1762730953/noticias/16_9_wide_dark_futuristic_image_with_gamer_dmijag.jpg",
  },
  {
    numero: "06",
    titulo: "Clips y videos cortos",
    texto:
      "Contenido pensado para redes: r√°pido, entretenido y real.",
    boton: "üîí Proximamente",
    img: "https://res.cloudinary.com/durxpegdm/image/upload/v1762730978/noticias/16_9_dark_cyber_style_image_with_bright_teal_lnvqgd.jpg",
  }
];
---
<style>
  .contenido-publicidad
  {
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
  margin-bottom: 20px;
  }
  </style>

<div class="contenido-publicidad" >
<script type="text/javascript">
	atOptions = {
		'key' : '9eef77ca2aa6c15adf4cb0f66c8462ca',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/9eef77ca2aa6c15adf4cb0f66c8462ca/invoke.js"></script>

</div>

<section class="servicios">
  {servicios.map((item, i) => (
    <article class={`bloque ${i % 2 === 1 ? "invertido" : ""}`}>
      <figure class={`media ${i % 2 === 1 ? 'reveal-right' : 'reveal-left'}`} aria-label={item.titulo}>
        <img src={item.img} alt={item.titulo} loading="lazy" />
        <figcaption class="badge">{item.numero}</figcaption>
      </figure>

      <div class={`contenido ${i % 2 === 1 ? 'reveal-left' : 'reveal-right'}`}>
        <h3 class="princ-verde">{item.titulo}</h3>
        <p>{item.texto}</p>
        <a href={item.link ? (item.link.startsWith('http') ? item.link : (import.meta.env.BASE_URL + item.link.replace(/^\//, ''))) : '#'} 
        class={`btn ${item.boton.includes("üîí")  ? "disabled" : ""}`}
        >{item.boton}</a>
      </div>
    </article>
  ))}
</section>

<script is:inline>
  (() => {
    const opts = { root: null, threshold: 0.15, rootMargin: '0px 0px -10% 0px' };
    const io = new IntersectionObserver((entries) => {
      for (const entry of entries) {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
        } else {
          entry.target.classList.remove('in-view');
        }
      }
    }, opts);

    const nodes = document.querySelectorAll('.reveal-left, .reveal-right');
    nodes.forEach((el) => io.observe(el));
  })();
  </script>

<style>
  .disabled 
  {
  pointer-events: none; /* Desactiva clics */
  opacity: 0.5;         /* Se ve deshabilitado */
  cursor: default;       /* Cambia el cursor */
  text-decoration: none; /* Quita subrayado */
  }
  /* Contenedor general */
  .servicios{
    display:flex;flex-direction:column;gap:0;
    background: var(--bg);
  }
.princ-verde 
{
  color: #02A073 !important;
}
  /* Bloque: 2 columnas con alturas consistentes */
  .bloque{
    display:grid;
    grid-template-columns:minmax(320px,40%) 1fr;
    grid-template-areas:"media content";
    align-items:stretch;
    border-top:1px solid #1f2a44;
    border-bottom:1px solid #0b1224;
  }
  .bloque.invertido{
    grid-template-columns:1fr minmax(320px,40%);
    grid-template-areas:"content media";
  }

  /* Media (imagen) */
  .media{
    grid-area:media; position:relative; margin:0; overflow:hidden;
    min-height:280px; /* altura uniforme */
    background:#000;  /* si la img falla, se ve como el cuadrado negro de la maqueta */
  }
  .media img{
    width:100%; height:100%; object-fit:cover; display:block;
    filter:brightness(.85);
    transition:transform .5s ease;
  }
  .bloque:hover .media img{ transform:scale(1.03); }

  /* N√∫mero superpuesto */
  .badge{
    position:absolute; inset:auto 12px 12px auto;
    background:#000000cc; color:var(--text);
    border:1px solid #263155; border-radius:8px;
    padding:6px 10px; font-weight:800; letter-spacing:.04em;
  }

  /* Panel de texto (estilo ‚Äúblanco‚Äù adaptado al dark de tu sitio) */
  .contenido{
    grid-area:content;
    background:var(--panel);
    padding:48px 56px;
    display:flex; flex-direction:column; justify-content:center;
    gap:14px;
  }
  .contenido h3{
    font-size:28px; line-height:1.2; margin:0;
    color:var(--text); font-weight:800;
  }
  .contenido p{
    color:var(--muted); line-height:1.7; font-size:16px;
    max-width:58ch;
  }

  .btn{
    align-self:flex-start;
    background:var(--btn); color:var(--text);
    border:1px solid #27314c; border-radius:8px;
    padding:10px 16px; font-weight:700; text-decoration:none;
    transition:background .2s, color .2s, transform .1s;
  }
  .btn:hover{ background:#01402E; color:#ffffff; }
  .btn:active{ transform:translateY(1px); }

  /* Animaciones de aparici√≥n/desaparici√≥n con scroll */
  .reveal-left,
  .reveal-right{
    opacity: 0;
    filter: blur(6px);
    transition: transform .6s ease, opacity .6s ease, filter .6s ease;
    will-change: transform, opacity, filter;
  }
  .reveal-left{ transform: translateX(-40px); }
  .reveal-right{ transform: translateX(40px); }
  .in-view.reveal-left,
  .in-view.reveal-right{
    opacity: 1;
    filter: blur(0);
    transform: translateX(0);
  }

  /* Responsive */
  @media (max-width: 980px){
    .bloque,
    .bloque.invertido{
      grid-template-columns:1fr;
      grid-template-areas:
        "media"
        "content";
    }
    .contenido{ padding:28px 22px; }
    .media{ min-height:220px; }
  }
</style>
